<!doctype html>
<title>User Profile | Living Meta Analysis</title>
<script src="https://apis.google.com/js/platform.js"></script>
<link rel="stylesheet" href="/css/main.css">

<h1><a href="/">Living Meta Analysis</a> User Profile</h1>

<!-- this puts a sign-in button, and a sign-out link, in the page -->
<div class="userinfo signedoff">
  <img src="/img/user.png" class="userphoto">
  <div class="actions">
    <div class="name whensignedon">Signed in as: <span class="username"></span></div>
    <div class="g-signin2 signin"></div>
    <a href="/profile" class="profile whensignedon">Profile</a>
    <a href="#" class="signout whensignedon">Sign out</a>
  </div>
</div>

<section id="personalinfo">
  <h2>Personal Info</h2>
  <img class="photo" src="/img/user.png" alt="photo of the person">
  <div class="name loading">loading&hellip;</div>
  <div class="email"></div>
  <div class="joined">Joined on <span class="date">&hellip;</span></div>
</section>

<template id="empty-list-template">
  <li class="empty">none yet</li>
</template>
<template id="tag-template">
  <li class="tag">error</li>
</template>

<section class="metaanalysis list">
  <header>
    <h2><span class="fnOrYour">User's</span> meta-analyses</h2>
    <div class="filter">Sort/filter
      <ul class="options">
        <li><label><input type="radio" name="metaanalysis-sort" value="modified" checked> recently modified</label></li>
        <li><label><input type="radio" name="metaanalysis-sort" value="created"> recently created</label></li>
        <li><label><input type="radio" name="metaanalysis-sort" value="name"> by name</label></li>
      </ul>
      <ul class="options">
        <li><label><input type="checkbox" name="metaanalysis-filter" value="created" checked> ones <span class="fnOryou">User</span> created</label></li>
        <li><label><input type="checkbox" name="metaanalysis-filter" value="contributed" checked> ones <span class="fnOryou">User</span> contributed to</label></li>
      </ul>
    </div>
  </header>
  <template id="metaanalysis-list-item-template">
    <li><span class="name">error</span> <span class="date">error</span> <span class="description">error</span>
      <ul class="tags">
      </ul>
    </li>
  </template>
  <ul>
    <li class="loading">loading&hellip;
  </ul>
  <footer>
    <!-- todo paging -->
    <div class="add" name="metaanalysis-add" title="Create a new metaanalysis">+</div>
  </footer>
</section>

<section class="article list">
  <header>
    <h2><span class="fnOrYour">User's</span> articles</h2>
    <div class="filter">Sort/filter
      <ul class="options">
        <li><label><input type="radio" name="article-sort" value="modified" checked> recently modified</label></li>
        <li><label><input type="radio" name="article-sort" value="created"> recently created</label></li>
        <li><label><input type="radio" name="article-sort" value="name"> by name</label></li>
      </ul>
      <ul class="options">
        <li><label><input type="checkbox" name="article-filter" value="created" checked> ones <span class="fnOryou">User</span> created</label></li>
        <li><label><input type="checkbox" name="article-filter" value="contributed" checked> ones <span class="fnOryou">User</span> contributed to</label></li>
      </ul>
    </div>
  </header>
  <template id="article-list-item-template">
    <li><span class="name">error</span> <span class="date">error</span> <span class="description">error</span>
      <ul class="tags">
      </ul>
    </li>
  </template>
  <ul>
    <li class="loading">loading&hellip;
  </ul>
  <footer>
    <!-- todo paging -->
    <div class="add" name="article-add" title="Input a new article">+</div>
  </footer>
</section>


<script src="/js/tools.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/userprofile.js"></script>
<script src="/js/articles.js"></script>
<script src="/js/metaanalyses.js"></script>
<script>
window.limeta.initPage = function () {
  // todo get papers and meta-analyses

  window.limeta.requestAndFillUserProfile();
  window.limeta.requestAndFillArticleList();
  window.limeta.requestAndFillMetaanalysisList();
}
</script>
